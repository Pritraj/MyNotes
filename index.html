<div style="height: 100%; width: 100%">
   <script>
    //solution to open pages in the same tab
    function receiveMessage(event){
        if(event.origin.search("mynexthire.com") > -1 || event.origin.search("localhost") > -1){
            if(event.data != null && event.data != "" && event.data != undefined){
                var msg = '' + event.data;
                switch(true){
                    case (msg.search("http") > -1):
                        document.location.href = msg;
                        break;
                    
                    case (msg.search("height->change") > -1):
                        var height = msg.substring(("height->change").length);
                        document.getElementById('mnhembedded').style.height = (parseInt(height) + 30) + "px";
                        break;

                    case (msg.search("scroll->top") > -1) :
                        scroll(0, 0);
                        break;
                }
            }
        }
    }

    window.addEventListener("message", receiveMessage, false);

    //setup iframe with mynexthire content
    document.onreadystatechange = function(e){
        if(document.readyState === "complete"){
            var host = window.parent.location.host;
            if(host === "localhost:8080"){
                host = "pushkar.iqa.mynexthire.com";
            }
            // var logo = host.split(".")[0] + "_color.png";
            // document.getElementById("clientLogo").src = "https://s3.amazonaws.com/smaclifywow.resource/client_logo/" + logo;
            
            if (window.location.origin === undefined || window.location.origin === null) {
                window.location.origin = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');
            }

            var myUrl = (window.location.origin).toLowerCase();
            var suffix = "smaclify.com";
            var suffix2 = "mynexthire.com";
            if((myUrl.indexOf(suffix, myUrl.length - suffix.length) != -1) || (myUrl.indexOf(suffix2, myUrl.length - suffix2.length) != -1)){
                document.getElementById("mnhembedded").src = myUrl + "/employer/jobs/careers" + "#" + window.parent.location.search;
            } else{
                // var iFrameSrc = document.getElementById("mnhembedded").src;
                // document.getElementById("mnhembedded").src = iFrameSrc + "#" + window.parent.location.search;
                document.getElementById("mnhembedded").src = "https://pushkar.iqa.mynexthire.com/employer/jobs/careers" + "#" + window.parent.location.search;
            }            
            //alert("I'm from main page script; Top is:" +  myUrl + " and iframe is :" + document.getElementById("mnhembedded").src);    
        }
    };
</script>
<iframe 
    class="col-xs-12 panel panel-default"
    style="border:none;padding:1vh;height:100vh;"
    id="mnhembedded"
    src="https://pushkar.iqa.mynexthire.com/employer/jobs/careers#?src=careers&bufilter=2">
</iframe>
</div>
